<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CY-RAG v2.0 - Gestionnaire d'annonces</title>
    
    <!-- Styles existants -->
    <link rel="stylesheet" href="static/css/styles.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cy2_styles.css') }}">
    
    <style>
        /* Badge version pour diff√©rencier */
        .cy2-badge {
            position: fixed;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 9999;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .version-switcher {
            position: fixed;
            top: 50px;
            right: 10px;
            z-index: 9998;
        }
        
        .version-switcher button {
            background: rgba(255,255,255,0.9);
            border: 1px solid #ddd;
            border-radius: 15px;
            padding: 5px 10px;
            font-size: 11px;
            cursor: pointer;
            margin: 2px 0;
            display: block;
            width: 80px;
            transition: all 0.2s;
        }
        
        .version-switcher button:hover {
            background: white;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <!-- Badge version CY2 -->
    <div class="cy2-badge">
        üöÄ CY2 v2.0
    </div>
    
    <!-- Boutons de basculement -->
    <div class="version-switcher">
        <button onclick="switchToStable()" title="Retour √† la version stable">
            üõ°Ô∏è Stable
        </button>
        <button onclick="window.location.href='/launcher'" title="Choisir version">
            üîÑ Changer
        </button>
    </div>

    <!-- COPIE EXACTE DU CONTENU DE index.html -->
    <!-- ... Tout le contenu HTML de votre index.html actuel ... -->
    
    <!-- MAIS avec les nouveaux scripts CY2 -->
    <script src="static/js/cy2_config.js"></script>
    <script src="static/js/cy2_main.js"></script>
    <script src="static/js/cy2_state_manager.js"></script>
    <script src="static/js/cy2_all_dos_all_rows.js"></script>
    <script src="static/js/cy2_all_dos_filters.js"></script>
    <script src="static/js/cy2_table_manager.js"></script>
    
    <!-- Scripts CY2 -->
    <script src="{{ url_for('static', filename='js/cy2_logger.js') }}"></script>
    <script src="{{ url_for('static', filename='js/cy2_state_manager.js') }}"></script>
    <script src="{{ url_for('static', filename='js/cy2_all_dos_all_rows.js') }}"></script>
    
    <!-- NOUVEAU: Module de filtres intelligents -->
    <script src="{{ url_for('static', filename='js/cy2_smart_filters.js') }}"></script>
    
    <script>
        // Fonction de basculement vers stable
        function switchToStable() {
            if (confirm('Basculer vers la version stable ?')) {
                localStorage.setItem('cy_last_version', 'stable');
                window.location.href = '/';
            }
        }
        
        // Initialisation CY2
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ CY2 v2.0 - Initialisation...');
            
            // Marquer comme version CY2
            window.CY2_VERSION = "2.0.0";
            window.CY2_MODE = true;
            
            // Initialiser l'application CY2
            if (window.cy2Main) {
                window.cy2Main.init();
            }
        });
    </script>
</body>
</html>